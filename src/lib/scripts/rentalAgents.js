export const rentalAgents = [
	{
        "agent": "Sand Helper",
        "phone": "(855) 743-5737",
        "email": "rent@sandhelper.com",
        "url": "http://sandhelper.com",
        "notes": "",
        "locations": [
            {
            "beach": "Ocean City, MD",
            "location": {lat: 38.3365, lng: -75.0849},
            },
            {
            "beach": "Fenwick",
            "location": {lat: 38.4623, lng: -75.0513},
            },   
            {
            "beach": "Bethany",
            "location": {lat: 38.5395, lng: -75.0552},
            }, 
            {
            "beach": "Assateague",
            "location": {lat: 38.0917, lng: -75.2038},
            }, 
   		]
    },
   
   {
        "agent": "Grand Rental Station",
        "phone": "(302) 227-7368",
        "email": "info@227rent.com",
  	    "url": "https://www.227rent.com/shop/vacation-items/beach-wheelchair-770.html",
        "notes": "",
        "locations": [
            {
            "beach": "Rehoboth",
            "location": {lat: 38.7168, lng: -75.0760},
            },
            {
            "beach": "Lewes",
            "location": {lat: 38.7745, lng: -75.1393},
            },   
            {
            "beach": "Dewey",
            "location": {lat: 38.6929, lng: -75.0746},
            }, 
   		]
    },
   
   {
        "agent": "Stone Harbor Crib & Beach Rental",
        "phone": "(609) 368-7271",
        "notes": "",
        "email": "info@stoneharborcribrental.com",
        "url": "http://www.stoneharborcribrental.com/Beach-Equipment/",
        "locations": [
                {
                "beach": "Stone Harbor",
                "location": {lat: 39.0509, lng: -74.7579},
                },
                {
                "beach": "Cape May",
                "location": {lat: 38.9593, lng: -74.9274},
                },   
                {
                "beach": "Avalon",
                "location": {lat: 39.0918, lng: -74.7365},
                }, 
                            {
                "beach": "Sea Isle City ",
                "location": {lat: 39.1526, lng: -74.6974},
                },
                {
                "beach": "Wildwood",
                "location": {lat: 38.9890, lng: -74.8199},
                },   
                {
                "beach": "Ocean City, NJ",
                "location": {lat: 39.2776, lng: -74.5746},
                }, 
            ]
    },
   
   {
        "agent": "Beach Easy Rentals",
        "phone": "(609) 234-4698 ",
        "notes": "",
        "email": "kim@beacheasynj.com",
        "url": "https://beacheasynj.com/",
        "locations": [
            {
                "beach": "Long Beach Island",
                "location": {lat: 39.6598, lng: -74.1708},
            },
            {
                "beach": "Atlantic City",
                "location": {lat: 39.3784, lng: -74.4233},
            },   
            {
                "beach": "Seaside Heights",
                "location": {lat: 39.9443, lng: -74.0729},
            }, 
            {
                "beach": "Ocean City, NJ",
                "location": {lat: 39.2776, lng: -74.5746},
            },
        ]
    },
   
   {
        "agent": "Beach Power Mobility",
        "phone": "(757) 481-1590",
        "notes": "",
        "email": "info@aeromedic.com",
        "url": "https://beachpowermobility.rezdy.com/catalog/282257/sandhelper",
        "locations": [
            {
                "beach": "Virginia Beach",
                "location": {lat: 36.8529, lng: -75.97798},
            },
        ]
    },
   
    {
        "agent": "Just for Beach Rentals",
        "phone": "(866) 629-7368",
        "notes": "",
        "email": "rentals@justforthebeach.com",
        "url": "https://justforthebeach.com/product/electric-beach-wheel-chair/",
        "locations": [
            {
                "beach": "OBX (Corolla to Nags Head)",
                "location": {lat: 36.1696, lng: -75.7552},
            },
        ]
    },

    {
        "agent": "Julie's Rentals",
        "phone": "(910) 579-1211",
        "email": "customerservice@juliesrentals.com",
        "url": "https://juliesrentals.com/beach-gear-rentals-umbrella-rentals-beach-wagon/",
        "notes": "",
        "locations": [
            {
            "beach": "Sunset Beach",
            "location": {lat: 33.8807, lng: -78.5122},
            },
            {
            "beach": "Ocean Isle Beach",
            "location": {lat: 33.8943, lng: -78.4267},
            },   
            {
            "beach": "Holden Beach",
            "location": {lat: 33.91416, lng: -78.30696},
            }, 
            {
            "beach": "North Myrtle Beach",
            "location": {lat: 33.81809, lng: -78.67997},
            }, 
        ]
    },

    {
        "agent": "Coastal Golf Cart Rentals",
        "phone": "(910) 477-0716",
        "notes": "",
        "email": "missy@coastalgolfcartrentals.com",
        "url": "https://www.coastalgolfcartrentals.com/Power-Beach-Wheelchair-Rentals",
        "locations": [
            {
            "beach": "Ocean Isle Beach",
            "location": {lat: 33.8943, lng: -78.42667},
            },
            {
            "beach": "Wilmington",
            "location": {lat: 34.2085, lng: -77.79637},
            },   
            {
            "beach": "Southport",
            "location": {lat: 33.92156, lng: -78.02027},
            }, 
                        {
            "beach": "Holden Beach",
            "location": {lat: 33.91416, lng: -78.30696},
            },
            {
            "beach": "Sunset Beach",
            "location": {lat: 33.8807, lng: -78.5122},
            },   
            {
            "beach": "Leland",
            "location": {lat: 34.25628, lng: -78.04471},
            }, 
        ]
    },

    {
        "agent": "Mobility Center of the Grand Strand",
        "phone": "(843) 692-8001",
        "notes": "",
        "email": "info@mobility-center.com",
        "url": "http://mobility-center.com/equipment-rentals/",
        "locations": [
           {
              "beach": "Myrtle Beach",
              "location": {lat: 33.68906, lng: -78.88669},
           },
        ]
     },

     {
        "agent": "Dandy Don's",
        "phone": "410-289-2289",
        "notes": "Hourly rentals only; for daily/weekly deliveries, call Sand Helper 855-743-5737",
        "email": "contact@ocmdbikerentals.com",
        "url": "http://ocmdbikerentals.com/index.html",
        "locations": [
           {
              "beach": "Ocean City, MD",
              "location": {lat: 38.3365, lng: -75.0849},
           },
        ]
     },
   
];

let tempLocationRentals = [];
rentalAgents.forEach(agent => agent.locations.forEach(loc => {
   let locRentalObject = {};
   locRentalObject.beach = loc.beach;
   locRentalObject.rentalAgent = agent.agent;
   locRentalObject.phone = agent.phone;
   locRentalObject.notes = agent.notes;
   locRentalObject.email = agent.email;
   locRentalObject.url = agent.url; 
   tempLocationRentals.push(locRentalObject);
}));

export let rentalAgentsKeyedByBeach = {};
tempLocationRentals.map(locR => {
	if(rentalAgentsKeyedByBeach.hasOwnProperty(locR.beach)) {
   	    let skinnyLocR = {};
        Object.assign(skinnyLocR, locR);  // Object.assign(dest, src);
        delete skinnyLocR.beach;            // don't need the name of the beach since it's the key of this array
        rentalAgentsKeyedByBeach[locR.beach].push(skinnyLocR);
   } else {
   	    let skinnyLocR = {};
   	    Object.assign(skinnyLocR, locR);
        delete skinnyLocR.beach;
        rentalAgentsKeyedByBeach[locR.beach] = [skinnyLocR]; // note: this is an array of 1 object, not just an object
   }
});
//console.log(`${JSON.stringify(rentalAgentsKeyedByBeach["Ocean City, MD"])}`);
//console.log(`${Object.keys(rentalAgentsKeyedByBeach["Ocean City, MD"]).length}`);

/* make the html div element that will be displayed by google maps when a SH icon is clicked */
let theBeaches = Object.keys(rentalAgentsKeyedByBeach);

export let theIWArray = [];
theBeaches.forEach(b => {
    let theIWDiv = document.createElement("div");
    theIWDiv.classList.add("IWdiv");
    let theBeachName = document.createElement("p");
    theBeachName.classList.add("IWp");
    theBeachName.innerHTML = b;
    theIWDiv.appendChild(theBeachName);
    theIWDiv.style.fontFamily = "Josefin Sans, monotype";
    let theRentalAgentsList = document.createElement("ul");
    theRentalAgentsList.classList.add("IWul");
    theIWDiv.appendChild(theRentalAgentsList);
    rentalAgentsKeyedByBeach[b].forEach(ra => {
        let theRentalAgentsListItemName = document.createElement("li");
        theRentalAgentsListItemName.classList.add("IWliName");
        theRentalAgentsListItemName.style.fontFamily = "Josefin Sans, monotype";
        theRentalAgentsListItemName.innerHTML = ra.rentalAgent;
        theRentalAgentsList.appendChild(theRentalAgentsListItemName);

        let theRentalAgentsListItemPhone = document.createElement("li");
        theRentalAgentsListItemPhone.classList.add("IWliPhone");
        theRentalAgentsListItemPhone.style.fontFamily = "Josefin Sans, monotype";
        theRentalAgentsListItemPhone.innerHTML = ra.phone;
        theRentalAgentsList.appendChild(theRentalAgentsListItemPhone);

        let theRentalAgentsListItemEmail = document.createElement("li");
        let theEmailLink = document.createElement("a");
        theEmailLink.setAttribute('href', "mailto:" + ra.email);
        theEmailLink.innerHTML = ra.email;
        theRentalAgentsListItemEmail.appendChild(theEmailLink);
        theRentalAgentsListItemEmail.classList.add("IWliEmail");
        theRentalAgentsListItemEmail.style.fontFamily = "Josefin Sans, monotype";
        theRentalAgentsList.appendChild(theRentalAgentsListItemEmail);

        let theRentalAgentsListItemURL = document.createElement("li");
        let theWebsiteLink = document.createElement("a");
        theWebsiteLink.setAttribute('href', ra.url);
        theWebsiteLink.innerHTML = "Website";
        theRentalAgentsListItemURL.appendChild(theWebsiteLink);
        theRentalAgentsListItemURL.classList.add("IWliURL");
        theRentalAgentsListItemURL.style.fontFamily = "Josefin Sans, monotype";
        theRentalAgentsList.appendChild(theRentalAgentsListItemURL);

        let theRentalAgentsListItemNotes = document.createElement("li");
        theRentalAgentsListItemNotes.classList.add("IWliNotes");
        theRentalAgentsListItemNotes.style.fontFamily = "Josefin Sans, monotype";
        theRentalAgentsListItemNotes.innerHTML = ra.notes;
        theRentalAgentsList.appendChild(theRentalAgentsListItemNotes);
    })
    theIWArray[b] = theIWDiv.outerHTML;
    //console.log(theIWDiv.outerHTML);
});

// console.log(Object.keys(theIWArray));
// console.log(theIWArray["Ocean City, MD"]);
/* theIWArray.forEach( x => {
    console.log(x);
}); */



